function left(i){for(var t=new Array,e=0;e<i;e++)t[e]=$(".slide .img[data-slide-imgId="+e+"]").attr("class");for(e=0;e<i;e++)0===e?$(".slide .img[data-slide-imgId="+e+"]").attr("class",t[i-1]):$(".slide .img[data-slide-imgId="+e+"]").attr("class",t[e-1]);imgClick(),onButton()}function right(i){for(var t=new Array,e=0;e<i;e++)t[e]=$(".slide .img[data-slide-imgId="+e+"]").attr("class");for(e=0;e<i;e++)e===i-1?$(".slide .img[data-slide-imgId="+e+"]").attr("class",t[0]):$(".slide .img[data-slide-imgId="+e+"]").attr("class",t[e+1]);imgClick(),onButton()}function onButton(){var i=parseInt($(".slide .img3").attr("data-slide-imgId"))+1;$(".slide-bt span").removeClass("on"),$(".slide-bt span[data-slide-bt="+i+"]").addClass("on")}function imgClick(){$(".slide .img").removeAttr("onclick"),$(".slide .img2").attr("onclick","right(slideNum)"),$(".slide .img4").attr("onclick","left(slideNum)")}function buttonClick(i){var t=i-(parseInt($(".slide .img3").attr("data-slide-imgId"))+1);if(t>0)for(i=0;i<t;i++)left(slideNum);if(t<0){t=-t;for(var i=0;i<t;i++)right(slideNum)}onButton()}var slideNum;window.onload=function(){$(window).resize(function(){$(".slide").height(.56*$(".slide").width())}),$(".slide").height(.56*$(".slide").width()),slideNum=$(".slide .img").length,{slideNum:$(".slide .img").length,ifAuto:!1,autoTime:1e3,ifCanTouch:function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},touch:function(){function i(i){var t=i.targetTouches[0];d=t.pageX}function t(i){var t=i.targetTouches[0];a=t.pageX-d}function e(i){a<-10?left(s.slideNum):a>10&&right(s.slideNum)}var s=this,d=0,a=0,l=document.getElementById("slide");l.addEventListener("touchstart",i,!1),l.addEventListener("touchmove",t,!1),l.addEventListener("touchend",e,!1)},loadImg:function(i){for(t=0;t<i;t++)$(".slide .img:eq("+t+")").attr("data-slide-imgId",t);if(1===i)for(t=0;t<i;t++)$(".slide .img:eq("+t+")").addClass("img3");if(2===i)for(t=0;t<i;t++)$(".slide .img:eq("+t+")").addClass("img"+(t+3));if(3===i)for(t=0;t<i;t++)$(".slide .img:eq("+t+")").addClass("img"+(t+2));if(i>3&&i<6)for(t=0;t<i;t++)$(".slide .img:eq("+t+")").addClass("img"+(t+1));if(i>=6)for(var t=0;t<i;t++)t<5?$(".slide .img:eq("+t+")").addClass("img"+(t+1)):$(".slide .img:eq("+t+")").addClass("img5")},loadButton:function(i){if(i){for(var t="",e=1;e<=i;e++)t+="<span data-slide-bt='"+e+"' onclick=buttonClick('"+e+"')></span>";$(".slide-bt").html(t),$(".slide-bt").css("margin-left","-"+17*i+"px"),$(".slide-bt").css("width",34*i+"px"),onButton()}},autoPlay:function(){var i=this;setInterval(function(){left(i.slideNum)},i.autoTime)},init:function(){this.ifCanTouch&&this.touch(),this.ifAuto&&this.autoPlay(),this.loadImg(this.slideNum),this.loadButton(this.slideNum),imgClick()}}.init()};